<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    
    <h:form id="form-menu">
        <p:menubar style="height: 2.5em;  border-color:  lightgray" >
            <p:menuitem value="Inicio" action="#{menuMB.actualizar}"  onclick="document.location.href='/rdu-ppi/'" icon="ui-icon-back" />
            <p:submenu  label="Captura de solicitudes" icon="ui-icon ui-icon-document" rendered="false">
            <!--<p:submenu  label="Captura de solicitudes" icon="ui-icon ui-icon-document" rendered="#{ perfilUsuario.usuarioMaestro  || perfilUsuario.usuarioPromovente || perfilUsuario.admin}">-->
            <!--Se agrega una opcion al menu de solicitudes-->
              
                 <p:menuitem rendered="#{sessionScope['area'] == 40}" value="Búsquedas" oncomplete="otros(20);showStatus('divStatus');lockWindow('divLockWindow');"   action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="20" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem rendered="#{sessionScope['area'] == 40}" value="Vigilancia" oncomplete="otros(21);showStatus('divStatus');lockWindow('divLockWindow');"   action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="21" target="#{menuMB.idMenu}" />
                </p:menuitem>
            </p:submenu>


            <p:submenu label="Notificaciones autorizadas" icon="ui-icon ui-icon-document">
                <p:menuitem rendered="true" value="Capturar" action="#{menuMB.actualizar}" onclick="otros(33); showStatus('divStatus');lockWindow('divLockWindow');">
                    <f:setPropertyActionListener value="33" target="#{menuMB.idMenu}"/>
                </p:menuitem>
                <p:menuitem rendered="true" value="Sesiones" action="#{menuMB.actualizar}" onclick="otros(34); showStatus('divStatus');lockWindow('divLockWindow');">
                    <f:setPropertyActionListener value="34" target="#{menuMB.idMenu}"/>
                </p:menuitem>
                <p:menuitem rendered="true" value="Administrar" action="#{menuMB.actualizar}" onclick="otros(35); showStatus('divStatus');lockWindow('divLockWindow');">
                    <f:setPropertyActionListener value="35" target="#{menuMB.idMenu}"/>
                </p:menuitem>
                <p:menuitem rendered="true" value="Old version" action="#{menuMB.actualizar}" onclick="otros(36); showStatus('divStatus');lockWindow('divLockWindow');">
                    <f:setPropertyActionListener value="36" target="#{menuMB.idMenu}"/>
                </p:menuitem>
            </p:submenu>
            
            
            <p:submenu  label="Notificaciones" icon="ui-icon ui-icon-document" rendered="#{perfilUsuario.examinadorPat ||perfilUsuario.coordinadorPat || perfilUsuario.usuarioMaestro || perfilUsuario.usuarioPromovente }">
                <!--
                <p:menuitem rendered="#{perfilUsuario.examinadorPat || true}"  value="Examinador" onclick="otros(22);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="22" target="#{menuMB.idMenu}" />
                </p:menuitem>

                <p:menuitem rendered="#{perfilUsuario.coordinadorPat || true}" value="Coordinador " onclick="otros(42);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="42" target="#{menuMB.idMenu}" />
                </p:menuitem>
                -->
                <p:menuitem rendered="true"  value="Examinador" onclick="otros(22);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="22" target="#{menuMB.idMenu}" />
                </p:menuitem>

                <p:menuitem rendered="true" value="Coordinador " onclick="otros(42);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="42" target="#{menuMB.idMenu}" />
                </p:menuitem>
            </p:submenu>






            <p:submenu   label="Promociones" icon="ui-icon ui-icon-document" rendered="false">
                          
                <p:menuitem value="Con Oficio A Responder" rendered="#{sessionScope['area'] == 40 }" oncomplete="otros(40);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="40" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem value="Otros Documentos" rendered="#{sessionScope['area'] == 40 }" oncomplete="otros(41);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar2}">
                    <f:setPropertyActionListener value="41" target="#{menuMB.idMenu}"/>
                </p:menuitem>
            </p:submenu>


            <p:submenu label="Gestión de Documentos" icon="ui-icon-search" rendered="#{ true }">
            <!--<p:submenu label="Gestión de Documentos" icon="ui-icon-search" rendered="#{ perfilUsuario.usuarioMaestro  || perfilUsuario.usuarioPromovente || perfilUsuario.coordinadorRecepcion || perfilUsuario.admin }">-->
                <p:menuitem  value="Solicitudes en Preparacion" onclick="otros(2);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}" rendered="false">
                    <f:setPropertyActionListener value="2" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem  value="Promociones en Preparación" oncomplete="otros(43);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}" rendered="false">
                    <f:setPropertyActionListener value="43" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem value="Tablero Electrónico" onclick="otros(4);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="4" target="#{menuMB.idMenu}" />
                </p:menuitem>

            </p:submenu >

            <p:submenu label="Administracion del sistema" icon="ui-icon-gear" rendered="#{perfilUsuario.admin || perfilUsuario.coordinadorRecepcion || perfilUsuario.usuarioMaestro  || perfilUsuario.usuarioPromovente }" >
                <!--p:menuitem value="Usuarios Internos" onclick="otros(3)" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="3" target="#{menuMB.idMenu}" />
                </p:menuitem-->
                <p:menuitem value="Día Inhábiles" onclick="otros(7);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="7" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem value="Certificados"  url="/content/restricted/firma/firmaadmin.faces"/>
                <p:menuitem value="Bitacora" onclick="otros(8);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="8" target="#{menuMB.idMenu}" />
                </p:menuitem>

            </p:submenu>

            <p:menuitem value="Procesos"  icon="ui-icon ui-icon-document" onclick="otros(16);showStatus('divStatus');lockWindow('divLockWindow');"
                        action="#{menuMB.actualizar}" rendered="#{perfilUsuario.coordinadorJob}" >
                <f:setPropertyActionListener value="16" target="#{menuMB.idMenu}" />
            </p:menuitem>

            <p:menuitem value="Regresar a PASE" action="#{menuMB.actualizar}"  onclick="showStatus('divStatus');lockWindow('divLockWindow');" icon="ui-icon-back" >
                <f:setPropertyActionListener value="5" target="#{menuMB.idMenu}" />
            </p:menuitem>

            <p:menuitem  value="Acerca de ..." icon="ui-icon ui-icon-notice"  onclick="acercaPatentesDialog.show()" rendered="#{sessionScope['area'] == 40 }"/>
            
                   
            <p:menuitem value="Cerrar sesión" action="#{menuMB.actualizar}"  onclick="showStatus('divStatus');lockWindow('divLockWindow');" icon="ui-icon-back" rendered="#{sessionScope['area'] == 40 }">
                <f:setPropertyActionListener value="58" target="#{menuMB.idMenu}" />
            </p:menuitem>



        </p:menubar>





    </h:form>
    <!-- este pachesote es para guardar en sesion el Id del menu seleccionado-->
    <script type="text/javascript">
        function otros(id) {
            //alert(id);
            switch (id) {
                case 2:
                    pagina="#{request.contextPath}/content/restricted/doc-preparacion/documentosPreparacion.faces"
                    break
                case 3:
                    pagina="#{request.contextPath}/content/restricted/usuarios/usuariosInt.faces"
                    break
                case 4:
                    pagina="#{request.contextPath}/content/restricted/doc-preparacion/tableroElectronico.faces"
                    break
                case 5:
                    pagina="#{request.contextPath}/content/restricted/include/salir.faces"
                    break
                case 6:
                    pagina="#{request.contextPath}/content/restricted/marcas/capturaSolicitudLinFranqucia.faces"
                    break
                case 7:
                    pagina="#{request.contextPath}/content/restricted/dias-Inhabiles/diaInhabiles.faces"
                    break
                case 8:
                    pagina="#{request.contextPath}/content/restricted/generales/bitacoraErrores.faces"
                    break
                case 9:
                    pagina="#{request.contextPath}/content/restricted/patentes/capturaSolicitudPatentes.faces"
                    break
                case 10: //Renovacion
                    pagina="#{request.contextPath}/content/restricted/marcas/promociones/promRenovacion.faces"
                    break
                case 11: //Inscripción de Transmisión de Derechos
                    pagina="#{request.contextPath}/content/restricted/marcas/promociones/promTransmisionDerechos.faces"
                    break
                case 12: //Inscripción de Licencia de Uso o Franquicia
                    pagina="#{request.contextPath}/content/restricted/marcas/promociones/promInscripcionLicenciaFranquicia.faces"
                    break
                case 13: //Toma de Notas de Cambio de Domicilio
                    pagina="#{request.contextPath}/content/restricted/marcas/promociones/promNotaCambioDomicilio.faces"
                    break
                case 14: //Transformación de Régimen Jurídico o Cambio de Nombre, Denominación o Razón Social
                    pagina="#{request.contextPath}/content/restricted/marcas/promociones/capturaTransForRegimen.faces"
                    break
                case 15: //Autorización de Uso de Denominación de Origen
                    pagina="#{request.contextPath}/content/restricted/marcas/promociones/autorizacionUsoDenominacionOrigen.faces"
                    break
                case 16: //Pagina para Ejecutar Job Eliminar Acuse
                    pagina="#{request.contextPath}/content/restricted/generales/ejecutarJob.faces"
                    break
                case 17: 
                    pagina="#{request.contextPath}/content/restricted/patentes/capturaSolicitudPatentes.faces"
                    break
                case 18: 
                    pagina="#{request.contextPath}/content/restricted/patentes/capturaSolicitudPatentes.faces"
                    break    
                case 20: 
                    pagina="#{request.contextPath}/content/restricted/patentes/capturaSolicitudPatentes.faces"
                    break    
                case 21: 
                    pagina="#{request.contextPath}/content/restricted/patentes/capturaSolicitudPatentes.faces"
                    break    
                case 22: //
                    pagina="#{request.contextPath}/content/restricted/generales/cargaNotificaciones.faces"
                    break
                case 40: //Promociones de Patente con oficio a responder
                   pagina="#{request.contextPath}/content/restricted/patentes/promociones/promocionesPatentes.faces"
                   break
                case 41: //Promociones de Patente Otros Documentos
                   pagina="#{request.contextPath}/content/restricted/patentes/promociones/promocionesPatentes.faces"
                   
                   break                   
                case 42: //
                    pagina="#{request.contextPath}/content/restricted/firma/firmanotificacion.faces"
                    break                   
                case 43: //Promociones patentes
                    pagina="#{request.contextPath}/content/restricted/patentes/promociones/promocionesPreparacion.faces"
                    break
                
                case 33:
                    pagina="#{request.contextPath}/content/restricted/notifications/capture.faces";
                    break
                case 34:
                    pagina="#{request.contextPath}/content/restricted/notifications/saved.faces";
                    break
                case 35:
                    pagina="#{request.contextPath}/content/restricted/notifications/manage.faces";
                    break
                case 36:
                    pagina="#{request.contextPath}/content/restricted/generales/manageNotifications.faces";
                    break
                
                default:
                    pagina="#{request.contextPath}/index.faces"
                }            
                location.href=pagina;
            }

    </script>



    <!--    <p:dialog widgetVar="avisoFirmaDialog" header="Aviso Importante"
                  width="300" height="100" resizable="true" visible="false" position="center">
            <dl>
                <dt style="text-align: justify;font-weight: bold; font-size: 14px;">Únicamente las PERSONAS FÍSICAS que cuenten con su FIEL podrán firmar una solicitud.</dt>
                <br/>
                <dt style="text-align: justify;font-weight: bold; font-size: 14px;">Las PERSONAS MORALES NO podrán firmar una solicitud.</dt>
                <br/>
    
            </dl>
        </p:dialog>-->

    <p:dialog  id="patentes" widgetVar="acercaPatentesDialog" header="A cerca de rdu-ppi"
               width="400" height="100" resizable="true" visible="false" position="top">

        <h:form id="form"> 

            <h:panelGrid columns="2" style="font-family: arial; font-size: 14px; text-align: left; ">
                <h:outputLabel value="RDU SIT versión: " />
                <h:outputText value="1.0.0"/>
                <h:outputLabel value="Mail de Contacto: " />
                <h:outputText value="sitenlinea@impi.gob.mx"/>
            </h:panelGrid>

<!--
            <p:commandLink  id="historial" value="Historial de versiones" oncomplete="mostrarGuiaUsuario('#{facesContext.getCurrentInstance().getExternalContext().getRequest().isSecure()==false?'http':'https'}://#{facesContext.externalContext.requestServerName}:#{facesContext.externalContext.requestServerPort}#{facesContext.externalContext.requestContextPath}/historial.pdf');"
                            style="font-family: arial; text-align: center; font-size: 12px; color: #274cc9;">
            </p:commandLink>-->
        </h:form>
    </p:dialog>
</ui:composition >