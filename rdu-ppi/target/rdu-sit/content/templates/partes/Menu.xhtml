<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:form id="form-menu">
        <p:menubar style="height: 2.5em;  border-color:  lightgray" >

            <p:submenu label="Captura de solicitudes" icon="ui-icon ui-icon-document" rendered="#{perfilUsuario.usuarioMaestro  || perfilUsuario.usuarioPromovente || perfilUsuario.admin}">
                <p:menuitem value="Marcas - Registro de Marca" onclick="otros(1);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="1" target="#{menuMB.idMenu}" />
                </p:menuitem>
            </p:submenu>

            <p:submenu label="Gestión de solicitudes" icon="ui-icon-search" rendered="#{perfilUsuario.usuarioMaestro  || perfilUsuario.usuarioPromovente || perfilUsuario.coordinadorRecepcion || perfilUsuario.admin}">
                <p:menuitem value="Solicitudes en Preparacion" onclick="otros(2);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}" rendered="#{perfilUsuario.usuarioMaestro  || perfilUsuario.usuarioPromovente || perfilUsuario.admin}">
                    <f:setPropertyActionListener value="2" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem value="Tablero Electrónico" onclick="otros(4);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="4" target="#{menuMB.idMenu}" />
                </p:menuitem>

            </p:submenu >

            <p:submenu label="Administracion del sistema" icon="ui-icon-gear" rendered="#{perfilUsuario.admin || perfilUsuario.coordinadorRecepcion}" >
                <!--p:menuitem value="Usuarios Internos" onclick="otros(3)" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="3" target="#{menuMB.idMenu}" />
                </p:menuitem-->
                <p:menuitem value="Día Inhábiles" onclick="otros(7);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="7" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem value="Certificados" onclick="otros(17);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="17" target="#{menuMB.idMenu}" />
                </p:menuitem>
                <p:menuitem value="Bitacora" onclick="otros(8);showStatus('divStatus');lockWindow('divLockWindow');" action="#{menuMB.actualizar}">
                    <f:setPropertyActionListener value="8" target="#{menuMB.idMenu}" />
                </p:menuitem>

            </p:submenu>


            <p:menuitem value="Regresar a PASE" action="#{menuMB.actualizar}"  onclick="showStatus('divStatus');lockWindow('divLockWindow');" icon="ui-icon-back" >
                <f:setPropertyActionListener value="5" target="#{menuMB.idMenu}" />
            </p:menuitem>

        </p:menubar>

    </h:form>
    <!-- este pachesote es para guardar en sesion el Id del menu seleccionado-->
    <script type="text/javascript">
        function otros(id) {
            //alert(id);
            switch (id) {
                case 1:
                   pagina="#{request.contextPath}/content/restricted/marcas/capturaSolicitudSignosDistintivos.faces"
                   break
                case 2:
                   pagina="#{request.contextPath}/content/restricted/doc-preparacion/documentosPreparacion.faces"
                   break
                case 3:
                   pagina="#{request.contextPath}/content/restricted/usuarios/usuariosInt.faces"
                   break
                case 4:
                   pagina="#{request.contextPath}/content/restricted/doc-preparacion/tableroElectronico.faces"
                   break
                case 5:
                   pagina="#{request.contextPath}/content/restricted/include/salir.faces"
                   break
                case 7:
                   pagina="#{request.contextPath}/content/restricted/dias-Inhabiles/diaInhabiles.faces"
                   break
                case 8:
                   pagina="#{request.contextPath}/content/restricted/generales/bitacoraErrores.faces"
                   break
                case 9:
                   pagina="#{request.contextPath}/content/restricted/patentes/capturaSolicitudPatentes.faces"
                   break
                case 15: //Autorización de Uso de Denominación de Origen
                    pagina=null;
                   pagina="#{request.contextPath}/"
                   break
                case 16: //Pagina para Ejecutar Job Eliminar Acuse
                   pagina="#{request.contextPath}/content/restricted/generales/ejecutarJob.faces"
                   break
                case 17: //Administracion de certificados
                   pagina="#{request.contextPath}/content/restricted/firma/firmaadmin.faces"
                   break  
                

                default:
                   pagina="#{request.contextPath}/index.faces"
            }            
            location.href=pagina;
        }

    </script>


</ui:composition >